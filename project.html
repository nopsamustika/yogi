<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Projects - Nopsa Mustika Prayogi</title>

  <link href="assets/img/icon.png" rel="icon" />
  <link href="assets/img/icon.png" rel="apple-touch-icon" />

  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700|Raleway:300,400,500,600,700|Poppins:300,400,500,600,700" rel="stylesheet" />
  <link href="assets/vendor/aos/aos.css" rel="stylesheet" />
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet" />
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet" />
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet" />
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet" />
  <link href="assets/css/style.css" rel="stylesheet" />

  <style>
    /* Filter Buttons */
    #project-flters { 
      list-style:none; 
      display:flex; 
      gap:14px; 
      padding:0; 
      cursor:pointer; 
      flex-wrap:wrap; 
      justify-content:center; 
      margin-bottom:40px;
    }
    #project-flters li { 
      padding:10px 20px; 
      border-radius:25px; 
      background:#f0f0f0; 
      font-weight:500; 
      transition:0.3s; 
    }
    #project-flters li.filter-active { background:yellowgreen; color:#fff; }

    /* Project Cards */
    .project-card { 
      border-radius:12px; 
      overflow:hidden; 
      background:#fff; 
      box-shadow:0 8px 20px rgba(0,0,0,0.08); 
      transition:0.3s; 
      margin-bottom:30px; /* spacing antara row */
    }
    .project-card:hover { transform:translateY(-6px); box-shadow:0 12px 24px rgba(0,0,0,0.15);}
    .thumb { 
      height:220px; 
      width:100%; 
      object-fit:cover; 
      transition:0.3s; 
      display:block;
    }
    .thumb:hover { opacity:0.95; }
    .project-info { padding:16px; }
    .project-meta { color:#6c757d; font-size:14px; margin-bottom:10px; }
    .project-links a { margin-right:10px; font-size:20px; color:yellowgreen; transition:0.3s; }
    .project-links a:hover { color:#0d6efd; }

    /* Section Padding */
    #project { padding-top:60px !important; padding-bottom:60px !important; }

    /* Preloader */
    .preload-bg {
      position:fixed; top:0; left:0; width:100%; height:100%;
      background:#000; display:flex; align-items:center; justify-content:center;
      z-index:99999; opacity:1; visibility:visible;
      transition:opacity 0.6s ease, visibility 0.6s ease;
    }
    .preload-bg.hide { opacity:0; visibility:hidden; }

    /* Responsive tweaks */
    @media(max-width:768px){ .thumb { height:180px; } }
  </style>
</head>

<body>

<header id="header" class="fixed-top">
  <div class="container-fluid d-flex justify-content-between align-items-center">
    <h1 class="logo me-auto me-lg-0"><a href="index.html">Portfolio</a></h1>

    <nav id="navbar" class="navbar order-last order-lg-0">
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="resume.html">Experience</a></li>
        <li><a href="project.html" class="active">Projects</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
      <i class="bi bi-list mobile-nav-toggle"></i>
    </nav>

    <div class="header-social-links">
      <a href="channel_yt.html"><i class="bi bi-youtube"></i></a>
      <a href="https://github.com/nopsamustika"><i class="bi bi-github"></i></a>
      <a href="instagram.html"><i class="bi bi-instagram"></i></a>
      <a href="https://www.linkedin.com/in/nopsa-mustika-prayogi-80b2112a4/"><i class="bi bi-linkedin"></i></a>
      <a href="https://wa.me/0895375704586?text=Halo%20Saya%20dari%20Website"><i class="bi bi-whatsapp"></i></a>
    </div>
  </div>
</header>

<main id="main">
<section id="project" class="project">
  <div class="container" data-aos="fade-up">
    <div class="section-title">
      <h2>Projects</h2>
      <p>Berikut adalah project yang telah saya buat:</p>
    </div>

    <div class="row">
      <div class="col-lg-12 d-flex justify-content-center">
        <ul id="project-flters"></ul>
      </div>
    </div>

    <div class="row project-container" id="project-list"></div>
  </div>
</section>
</main>

<footer id="footer">
  <div class="container">
    <div class="menu">
      <a href="index.html">Home</a>
      <a href="resume.html">Experience</a>
      <a href="project.html">Projects</a>
      <a href="contact.html">Contact</a>
    </div>
    <div class="copyright">
      &copy; <script>document.write(new Date().getFullYear());</script> Portfolio <strong><span>by nopsa</span></strong>
    </div>
  </div>
</footer>

<div class="preload-bg">
  <img src="assets/loading.gif" alt="Loading">
</div>

<script>
window.addEventListener("load", () => {
  setTimeout(() => document.querySelector(".preload-bg").classList.add("hide"), 400);
});
</script>

<script src="assets/vendor/aos/aos.js"></script>
<script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
<script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
<script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
<script src="assets/js/data-project.js"></script>

<script>
// ===== RENDER FILTER BUTTONS =====
const filterContainer = document.getElementById("project-flters");
const projectContainer = document.querySelector(".project-container");
const categories = [...new Set(projectData.map(p => p.kategori))];

// Render filter buttons
filterContainer.innerHTML =
  `<li data-filter="*" class="filter-active">All</li>` +
  categories.map(c => `<li data-filter=".filter-${c.toLowerCase().replace(/\s+/g,'-')}">${c}</li>`).join("");

// ===== RENDER PROJECT GRID =====
const projectListHtml = projectData.map(p => {
  const thumb = `assets/img/project/${p.id}/${p.gambar[0]}`;
  const catClass = `filter-${p.kategori.toLowerCase().replace(/\s+/g,'-')}`;
  const linkBtn = p.link !== "-" 
    ? `<a href="${p.link}" target="_blank" title="Project Link"><i class="bx bx-link"></i></a>` 
    : "";

  return `
    <div class="col-lg-4 col-md-6 project-item ${catClass}" data-aos="fade-up" style="padding:10px;">
      <div class="project-card">
        <a href="project-details.html?id=${p.id}">
          <img src="${thumb}" class="thumb" alt="${p.judul}">
        </a>
        <div class="project-info">
          <h4 class="project-title"><a href="project-details.html?id=${p.id}">${p.judul}</a></h4>
          <div class="project-meta">${p.kategori} â€¢ ${p.tahun}</div>
          <p>${p.deskripsi}</p>
          <div class="project-links">
            <a href="${thumb}" class="project-lightbox" data-gallery="projectGallery"><i class="bx bx-plus"></i></a>
            ${linkBtn}
          </div>
        </div>
      </div>
    </div>
  `;
}).join("");

projectContainer.innerHTML = projectListHtml;

// ===== INIT ISOTOPE =====
const iso = new Isotope(projectContainer, {
  itemSelector: '.project-item',
  layoutMode: 'fitRows',
  transitionDuration: '0.6s'
});

// ===== FILTER BUTTONS =====
filterContainer.addEventListener("click", e => {
  if(e.target.tagName !== "LI") return;

  [...filterContainer.children].forEach(li => li.classList.remove("filter-active"));
  e.target.classList.add("filter-active");

  const filterValue = e.target.getAttribute("data-filter");
  iso.arrange({ filter: filterValue });
});

// ===== INIT LIGHTBOX & AOS =====
GLightbox({ selector: ".project-lightbox" });
AOS.init({ once:true, duration:800 });
</script>

</body>
</html>
